---
layout: default
---

{% if page.header.overlay_color or page.header.overlay_image or page.header.image %}
  {% include page__hero.html %}
{% endif %}

{% if page.url != "/" and site.breadcrumbs %}
  {% unless paginator %}
    {% include breadcrumbs.html %}
  {% endunless %}
{% endif %}

<div id="main" role="main">
  {% include sidebar.html %}

  <div class="archive">
    {% unless page.header.overlay_color or page.header.overlay_image %}
      <h1 class="page__title">{{ page.title }}</h1>
      <div>
        <strong>Filter by Type</strong>
        <ul>
            {% assign tags =  site.publications | map: 'tags' | join: ','  | split: ',' | uniq %}
            <a href="{{ base_path }}{{ tag_word | slugify | prepend: path_type | prepend: site.tag_archive.path }}" class="page__taxonomy-item" rel="tag">All</a>{% unless forloop.last %}<span class="sep">, </span>{% endunless %}
            {% for tag in tags %}
                <a href="{{ base_path }}{{ tag_word | slugify | prepend: path_type | prepend: site.tag_archive.path }}" class="page__taxonomy-item" rel="tag">{{ tag }}</a>{% unless forloop.last %}<span class="sep">, </span>{% endunless %}
                <!-- <h3>{{ tag }}</h3> -->
                <!-- <ul>
                    <li><a href="#{{ tag }}"></a></li>
                    {% for pub in site.publications %}
                        {% if pub.tags contains tag %}
                        <li><a href="{{ site.baseurl }}{{ pub.url }}">{{ pub.title }}</a></li>
                        {% endif %}
                    {% endfor %}
                </ul> -->
            {% endfor %}
        </ul>
      </div>
      <div>
        <strong>Sort by:</strong>
        <select id="sort-selector">
          <option value="new-to-old">New to Old</option>
          <option value="old-to-new">Old to New</option>
        </select>
      </div>
      <div id="posts-container">
        {% for post in site.publications %}
            <div class="post" data-date="{{ post.date | date: '%s' }}">
                {% include archive-single.html %}
            </div>
        {% endfor %}
      </div>
    {% endunless %}
    <!-- {{ content }} -->
  </div>
</div>


<script>
    document.addEventListener('DOMContentLoaded', function () {
        const sortSelector = document.getElementById('sort-selector');
        const postsContainer = document.getElementById('posts-container');
        const posts = Array.from(postsContainer.children);

        sortSelector.addEventListener('change', function () {
            const selectedOption = sortSelector.value;

            posts.sort(function (a, b) {
            const dateA = parseInt(a.getAttribute('data-date'));
            const dateB = parseInt(b.getAttribute('data-date'));

            if (selectedOption === 'new-to-old') {
                return dateB - dateA;
            } else if (selectedOption === 'old-to-new') {
                return dateA - dateB;
            }

            // Add more sorting options as needed

            return 0;
            });

            posts.forEach(post => {
            postsContainer.appendChild(post);
            });
        });
        });
</script>